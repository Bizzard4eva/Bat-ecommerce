CREATE DATABASE productos;

CREATE TABLE categoria
(
    id_categoria INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nombre       VARCHAR(50) NOT NULL
);

CREATE TABLE marca
(
    id_marca INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nombre   VARCHAR(50) NOT NULL
);

CREATE TABLE producto
(
    id_producto  INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nombre       VARCHAR(100)   NOT NULL,
    precio       DECIMAL(10, 2) NOT NULL,
    descripcion  VARCHAR(255)   NOT NULL,
    stock        INT            NOT NULL,
    id_categoria INT            NOT NULL REFERENCES categoria (id_categoria) ON DELETE CASCADE,
    id_marca     INT            NOT NULL REFERENCES marca (id_marca) ON DELETE CASCADE
);

-- INSERTAR CATEGORÍAS
INSERT INTO categoria (nombre)
VALUES ('Smartphones'),
       ('Laptops'),
       ('Tablets'),
       ('Auriculares'),
       ('Monitores');

-- INSERTAR MARCAS
INSERT INTO marca (nombre)
VALUES ('Samsung'),
       ('Apple'),
       ('Xiaomi'),
       ('Asus'),
       ('Logitech');

-- INSERTAR PRODUCTOS
INSERT INTO producto (nombre, precio, descripcion, stock, id_categoria, id_marca)
VALUES
('Samsung Galaxy S24 Ultra', 6199.00, 'Smartphone gama alta, 512GB, 12GB RAM', 50, 1, 1),
('iPhone 15 Pro Max', 7299.00, 'Smartphone gama premium, 512GB, 8GB RAM', 30, 1, 2),
('Xiaomi 14 Ultra', 5799.00, 'Smartphone flagship con cámara Leica y Snapdragon 8 Gen 3', 40, 1, 3),
('Samsung Galaxy A55', 1799.00, 'Smartphone gama media, 8GB RAM, 256GB', 60, 1, 1),
('iPhone SE (3ra Gen)', 2499.00, 'Smartphone compacto con chip A15 Bionic', 40, 1, 2),
('Asus ROG Strix G513RM', 7499.00, 'Laptop gaming, Ryzen 7, 16GB RAM, RTX 4060', 20, 2, 4),
('Apple MacBook Air M2', 5699.00, 'Laptop ultraligera, M2, 16GB RAM, 512GB', 25, 2, 2),
('Samsung Galaxy Book4 Ultra', 6799.00, 'Laptop premium, Intel i7, OLED 16"', 15, 2, 1),
('Asus TUF Gaming F15', 4999.00, 'Laptop gamer, Intel i7, RTX 4060, 144Hz', 25, 2, 4),
('Xiaomi RedmiBook 15', 2899.00, 'Laptop ligera, Intel i5, SSD 512GB', 30, 2, 3),
('Xiaomi Pad 6', 1599.00, 'Tablet de alto rendimiento, 256GB, 8GB RAM', 40, 3, 3),
('Samsung Galaxy Tab S9 Ultra', 5499.00, 'Tablet AMOLED 14.6", Snapdragon 8 Gen 2', 20, 3, 1),
('Apple iPad Pro M2', 6799.00, 'Tablet premium, chip M2, 12.9"', 15, 3, 2),
('Logitech G733', 649.00, 'Auriculares inalámbricos gaming RGB', 60, 4, 5),
('Samsung Galaxy Buds3 Pro', 799.00, 'Auriculares TWS con cancelación de ruido', 80, 4, 1),
('Apple AirPods Pro 2', 1149.00, 'Auriculares con cancelación activa, chip H2', 70, 4, 2),
('Xiaomi Redmi Buds 5 Pro', 399.00, 'Auriculares TWS con sonido Hi-Res', 100, 4, 3),
('Logitech Zone Vibe 100', 479.00, 'Auriculares Bluetooth para oficina', 40, 4, 5),
('Samsung Odyssey G8 32"', 6399.00, 'Monitor gaming 32", 240Hz, OLED UHD', 15, 5, 1),
('Asus ROG Swift PG27AQDM', 5899.00, 'Monitor OLED 27", 240Hz, 2K', 10, 5, 4),
('Xiaomi Monitor Curvo 34"', 1799.00, 'Monitor ultra ancho 144Hz, QHD', 20, 5, 3),
('LG UltraGear 27GP850', 2199.00, 'Monitor gaming IPS 2K, 180Hz', 25, 5, 4),
('Logitech MX Master 3', 389.00, 'Mouse inalámbrico ergonómico', 100, 4, 5),
('Logitech POP Keys', 429.00, 'Teclado mecánico inalámbrico, estilo retro', 70, 4, 5),
('Samsung Galaxy Watch 6 Classic', 1699.00, 'Smartwatch AMOLED, acero inoxidable', 30, 4, 1),
('Apple Watch Series 9', 2499.00, 'Reloj inteligente, chip S9, pantalla Retina', 20, 4, 2),
('Xiaomi Smart Band 9 Pro', 299.00, 'Pulsera inteligente con GPS y pantalla AMOLED', 90, 4, 3);


select *
from categoria;

select *
from producto;

SELECT p.nombre AS producto,
       c.nombre AS categoria,
       m.nombre AS marca
FROM producto p
INNER JOIN categoria c ON p.id_categoria = c.id_categoria
INNER JOIN marca m ON p.id_marca = m.id_marca;